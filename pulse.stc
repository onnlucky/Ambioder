#module library libgpsim_modules
freq 8000000

stimulus asynchronous_stimulus
initial_state 0
start_cycle 0
digital
period 35468
{
#rbg 255,0,128
624, 1, 1040, 0,
1248, 1, 1664, 0,
1872, 1, 2288, 0,
2496, 1, 2912, 0,
3120, 1, 3536, 0,
3744, 1, 4160, 0,
4368, 1, 4784, 0,
4992, 1, 5408, 0,
5616, 1, 5824, 0,
6240, 1, 6448, 0,
6864, 1, 7072, 0,
7488, 1, 7696, 0,
8112, 1, 8320, 0,
8736, 1, 8944, 0,
9360, 1, 9568, 0,
9984, 1, 10192, 0,
10608, 1, 11024, 0,
11232, 1, 11440, 0,
11856, 1, 12064, 0,
12480, 1, 12688, 0,
13104, 1, 13312, 0,
13728, 1, 13936, 0,
14352, 1, 14560, 0,
14976, 1, 15184, 0,

#rbg 255,0,128
20592, 1, 21008, 0,
21216, 1, 21632, 0,
21840, 1, 22256, 0,
22464, 1, 22880, 0,
23088, 1, 23504, 0,
23712, 1, 24128, 0,
24336, 1, 24752, 0,
24960, 1, 25376, 0,

25584, 1, 25792, 0,
26208, 1, 26416, 0,
26832, 1, 27040, 0,
27456, 1, 27664, 0,
28080, 1, 28288, 0,
28704, 1, 28912, 0,
29328, 1, 29536, 0,
29952, 1, 30368, 0,

30576, 1, 30992, 0,
31200, 1, 31408, 0,
31824, 1, 32032, 0,
32448, 1, 32656, 0,
33072, 1, 33280, 0,
33696, 1, 33904, 0,
34320, 1, 34528, 0,
34944, 1, 35352, 0
}
# input = 0b101 = 5
name shortpulse
end

node n1
attach n1 shortpulse pin(porta3)
scope.ch0 = "porta2" # R
scope.ch1 = "porta0" # G
scope.ch2 = "porta1" # B
scope.ch3 = "porta3" # RX

# 0.1 second
step 200000

